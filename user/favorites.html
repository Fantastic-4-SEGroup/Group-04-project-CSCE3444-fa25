<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MoodSync’d — Favorites</title>
  <link rel="stylesheet" href="../styles.css" />
  <script type="module" defer src="app-user.js"></script>
  <style>
  .playlist-hero {
    display:flex; gap:24px; padding:24px;
    background: var(--panel);
    color: var(--panel-ink);
    border-bottom: 1px solid rgba(11,26,42,.08);
  }
  .hero-collage { /* 2×2 mosaic using existing JS */
    display:grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr;
    width:160px; height:160px; border-radius:16px; overflow:hidden;
    box-shadow: var(--shadow);
  }
  .hero-collage .collage-tile { width:100%; height:100%; object-fit:cover; }
  .hero-meta { display:flex; flex-direction:column; gap:8px; }
  .hero-sub { color: rgba(11,26,42,.6); font-size:14px; }
  .hero-title { font-size:clamp(28px, 4vw, 44px); font-weight:800; letter-spacing:-.02em; margin:0; }
  .hero-actions { display:flex; gap:12px; margin-top:8px; }
  .btn { display:inline-flex; align-items:center; gap:.5rem; padding:.6rem .9rem;
         border:1px solid rgba(11,26,42,.12); border-radius:12px; background:#fff; color:var(--panel-ink); cursor:pointer; }
  .btn--primary { background: var(--cta); color: var(--cta-ink); border-color: var(--cta); font-weight:700; }
  .btn svg { width:18px; height:18px; }
  .songs { padding: 0 24px 24px; }
  
  
  .songs-header, .song-row {
    display: grid;
    grid-template-columns: 160px 1fr 80px; /* tweak widths to taste */
    gap: 16px;
    align-items: center;
  }
  
  /* Row visuals still apply */
  .song-row { padding:10px 8px; border-radius:8px; cursor:pointer; }
  .song-row:hover { background: rgba(11,26,42,.04); }
  
  /* Keep the cover and stacked title/sub in the first column */
  .song-cover { width:48px; height:48px; border-radius:8px; object-fit:cover; background:#ddd; }
  .song-main  { display:flex; flex-direction:column; min-width:0; }
  .song-title { font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .song-sub   { color: rgba(11,26,42,.65); font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .song-cell {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  
  /* Duration column style */
  .song-duration { color: rgba(11,26,42,.55); font-size:13px; text-align:left; }
  .song-updated { color: rgba(11,26,42,.55); font-size:13px; text-align:left; }
  .favorites-empty-wrap { padding: 40px 24px; text-align:center; color: rgba(11,26,42,.65); }
  .summary-bar { position: sticky; bottom:0; background: var(--panel); color: rgba(11,26,42,.65);
                 border-top:1px solid rgba(11,26,42,.08); padding:10px 24px; backdrop-filter:saturate(160%) blur(6px); }
  @media (max-width:720px){
    .songs-header, .song-row { grid-template-columns: 48px 1fr 88px 60px; }
  }
  
  .card--favorites {
    width: min(900px, 100%);
    margin: 24px auto;
    padding: 0; /* let sections manage their own padding */
  }
  
  .playlist-hero {
    border-radius: var(--radius-xl) var(--radius-xl) 0 0;
  }
  
  .summary-bar {
    border-radius: 0 0 var(--radius-xl) var(--radius-xl);
  }
  
  .playlist-hero { padding: 20px; }
  .songs         { padding: 0 20px 20px; }
  .summary-bar   { padding: 10px 20px; }
  
  .song-artist {
    color: rgba(11,26,42,.65);
    font-size: 13px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  .btn--danger {
    background: #ef4444;       /* red */
    color: #fff;
    border-color: #ef4444;
    font-weight: 700;
  }
  .btn--danger:disabled {
    opacity: .6;
    cursor: not-allowed;
  }
   /* Topbar + Dropdown */
   .topbar {
      display: flex; gap: 12px; align-items: center;
      padding: 10px 14px; border-bottom: 1px solid #eee; background: #fff;
    }
    .topbar a { text-decoration: none; color: #333; }

    .dropdown { position: relative; display: inline-block; }
    .dropdown-button {
      background: #f5f5f5; border: 1px solid #ddd; padding: 8px 12px;
      border-radius: 6px; cursor: pointer;
    }
    .dropdown-content {
      position: absolute; top: 100%; right: 0; min-width: 220px; margin-top: 6px;
      background: #fff; border: 1px solid #ddd; border-radius: 6px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08); padding: 6px 0; z-index: 1000;
      display: none; /* hidden by default */
    }
    .dropdown:hover .dropdown-content { display: block; }
    .dropdown-content a,
    .dropdown-content span.dropdown-header {
      display: block; padding: 8px 12px; color: #333; text-decoration: none;
    }
    .dropdown-content a:hover { background: #f5f5f5; }
    .dropdown-header { font-weight: 600; color: #555; }
    .dropdown-divider {
      border: 0; border-top: 1px solid #e5e5e5; margin: 6px 0;
    }

    /* Favorites page layout */
    .favorites-wrap { max-width: 900px; margin: 24px auto; padding: 0 14px; }
    .favorites-header {
      display: grid; grid-template-columns: 160px 1fr; /* SONG | ARTIST */
      gap: 12px; padding: 10px 0; border-bottom: 1px solid #eee; color: #666; font-weight: 600;
    }
    .favorites-actions { margin: 12px 0; display: flex; gap: 8px; }
    .favorites-actions button {
      padding: 8px 12px; border: 1px solid #ddd; border-radius: 6px; background: #f5f5f5; cursor: pointer;
    }
    .favorites-summary { margin-top: 8px; color: #444; }

    .favorites-collage {
      display: grid; grid-template-columns: repeat(2, 64px); grid-template-rows: repeat(2, 64px);
      gap: 6px; margin: 8px 0 16px;
    }
    .collage-tile { width: 64px; height: 64px; object-fit: cover; border-radius: 6px; }

    /* Rows (2 columns: SONG | ARTIST) */
    .favorites-list { list-style: none; margin: 0; padding: 0; }
    .song-row {
      display: grid; grid-template-columns: 160px 1fr; /* SONG | ARTIST */
      align-items: center; gap: 12px; padding: 10px 0; border-bottom: 1px solid #f0f0f0; cursor: pointer;
    }
    .song-cell { display: flex; align-items: center; gap: 8px; }
    .song-number { width: 24px; text-align: right; font-weight: 600; color: #666; }
    .song-cover { width: 48px; height: 48px; object-fit: cover; border-radius: 6px; }

    .artist-cell { display: flex; flex-direction: column; }
    .song-title { font-weight: 600; color: #222; }
    .song-sub { color: #666; font-size: 0.92em; }

    .favorites-empty { color: #666; padding: 18px 0; }
  </style>
</head>
<body class="bg-gradient">
  <header class="nav">
    <div class="nav__left">
      <!-- Logo slot -->
      <div class="logo" aria-label="MoodSync'd logo" href="../index.html"><img src="../images/musical-note.png"
          alt="Two consecutive white musical notes" width="20" height="15"> MoodSync’d</div>
    </div>
    <nav class="nav__right" aria-label="Primary">
      <a id="welcomeLink" class="nav__special">Welcome, Guest</a>
      <a href="../user/created-user-home.html" class="nav__link">Home</a>
      <a href="#" class="nav__link">About</a>
      <a href="../general/tutorial.html" class="nav__link">How it Works</a>
      <div class="dropdown">
        <button class="nav__link dropbtn" aria-haspopup="true" aria-expanded="false">Menu</button>
        <div class="dropdown-content">
          <a href="../user/settings.html">Settings</a>
          <a href="../user/calendar.html">Calendar</a>
          <a href="../user/signout.html">Sign Out</a>
        </div>
      </div>
    </nav>
  </header>
    
  <section class="card card--favorites container">
    <header class="playlist-hero">
      <!-- Collage container (JS fills 4 tiles) -->
      <div id="favCollage" class="hero-collage"></div>
      <div class="hero-meta">
        <div class="hero-sub">PLAYLIST</div>
        <h1 class="hero-title">Favorites</h1>
       <div id="favoritesSummaryBar" class="favorites-summary">0 songs</div>
        <div class="hero-actions">
          <button id="playAllBtn" class="btn btn--primary">
            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z" fill="currentColor"/></svg>
            Play
          </button>
          <button id="clearFavoritesBtn" class="btn btn--danger">
            <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
              <path d="M9 3h6l1 2h4v2h-2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7H3V5h4l2-2zm0 6v8h2V9H9zm4 0v8h2V9h-2z" fill="currentColor"/>
            </svg>
            Clear Favorites
          </button>
        </div>
      </div>
    </header>

    <section class="songs">
      <!-- Three even columns -->
      <div class="songs-header">
        <div>SONG</div>
        <div>ARTIST</div>
      </div>

      <ul id="favoritesList" style="list-style:none; margin:0; padding:0;"></ul>

      <div id="favoritesEmptyHelper" class="favorites-empty-wrap" hidden>
        <p>No favorites yet. Tap the heart on a song to add it here.</p>
      </div>
    </section>

    <footer class="summary-bar">
      <div id="favoritesSummary" class="favorites-summary">0 songs</div>    </footer>

  </section>
  <script src="favorites.js" defer></script>
</body>
</html>